<div class="mt-3">
			<div class="signup-page">
				<form class="signup-form" id="form" action="/atualizar_perfil" method="post" enctype="multipart/form-data">
					<div class="form-title">
						<h2>Vendedor</h2>
					</div>
					<div class="row mb-5">


						<div id="bloco1v" class="row">
							<div class="col-md-6 col-sm-12 mt-3">
								<label class="label-input" for="nome">Nome Loja</label>
								<input type="text" name="nome" id="nome" placeholder="Nome Loja" required <?php if(isset($this->view->vendedor) && isset($this->view->vendedor['nome'])) {?>value="<?= $this->view->vendedor['nome'] ?>"<?php } ?>>
							</div>
							<div class="col-md-6 col-sm-12 mt-3">
								<label class="label-input" for="email">E-mail</label>
								<input type="email" placeholder="email@email.com" id="email" <?php if(isset($this->view->vendedor) && isset($this->view->vendedor['email'])) {?>value="<?= $this->view->vendedor['email'] ?>"<?php } ?> disabled>
								
							</div>							
						</div>


						<div id="bloco2v" class="row">
							<div class="col-md-6 col-sm-12 mt-3">
								<label class="label-input" for="documento">CPF/CNPJ</label>
								<input onkeyup="validadedocV()" onblur="limpaDocV()" class="input-tag mb-0" type="text" name="documento" id="documentov" <?php if(isset($this->view->vendedor) && isset($this->view->vendedor['documento'])) {?>value="<?= $this->view->vendedor['documento'] ?>"<?php } ?> required>
                                <small class="text-danger" id="conferedocumentov">*CPF/CNPJ invalido.</small>
							</div>
							<div class="col-md-6 col-sm-12 mt-3 select-form">
								<label class="label-input" for="cidade">Cidade</label>
								<select class="input-tag form-control" name="cidade" id="cidade">
									<option>Cidade</option>
									<option value="cassia" <?php if(isset($this->view->vendedor) && isset($this->view->vendedor['cidade']) && $this->view->vendedor['cidade'] == 'Cassia') {?> selected <?php } ?>>Cássia - MG</option>
								</select>
							</div>
							<div class="col-md-6 col-sm-12 mt-3">
								<label class="label-input" for="endereco">Endereço</label>
								<input class="input-tag" type="text" name="endereco" id="endereco" <?php if(isset($this->view->vendedor) && isset($this->view->vendedor['endereco'])) {?>value="<?= $this->view->vendedor['endereco'] ?>"<?php } ?> required>
							</div>
							<div class="col-md-6 col-sm-12 mt-3">
								<label class="label-input" for="bairro">Bairro</label>
								<input class="input-tag" type="text" name="bairro" id="bairro" <?php if(isset($this->view->vendedor) && isset($this->view->vendedor['bairro'])) {?>value="<?= $this->view->vendedor['bairro'] ?>"<?php } ?> required>
							</div>
						</div>


						<div id="bloco3v" class="row">
							<div class="col-md-6 col-sm-12 mt-3">
								<label class="label-input" for="telefone">Telefone<span> *somente numeros</span></label>
								<input class="input-tag" type="text" name="telefone" id="telefone" minlength="10" maxlength="11" <?php if(isset($this->view->vendedor) && isset($this->view->vendedor['telefone'])) {?>value="<?= $this->view->vendedor['telefone'] ?>"<?php } ?> required>
							</div>
							<div class="col-md-6 col-sm-12 mt-3 select-form">
								<label id="entrega" class="label-input  text-number" for="segmento">Segmento Principal</label>
								<select class="input-tag form-control" name="segmento" id="segmento">
									<option value="segmento" <?php if(!isset($this->view->vendedor)) {?> selected <?php } ?>>Segmento Principal</option>
									<option value="moda" <?php if(isset($this->view->vendedor) && isset($this->view->vendedor['segmento']) && $this->view->vendedor['segmento'] == 'moda') {?> selected <?php } ?>>Moda</option>
									<option value="eletronicos" <?php if(isset($this->view->vendedor) && isset($this->view->vendedor['segmento']) && $this->view->vendedor['segmento'] == 'eletronicos') {?> selected <?php } ?>>Eletronicos</option>
									<option value="presentes/papelaria" <?php if(isset($this->view->vendedor) && isset($this->view->vendedor['segmento']) && $this->view->vendedor['segmento'] == 'presentes/papelaria') {?> selected <?php } ?>>Presentes e Papelaria</option>
									<option value="cama/mesa/banho" <?php if(isset($this->view->vendedor) && isset($this->view->vendedor['segmento']) && $this->view->vendedor['segmento'] == 'cama/mesa/banho') {?> selected <?php } ?>>Cama/Mesa/Banho</option>
								</select>
							</div>
							<div class="col-md-6 col-sm-12 mt-3">
								<label class="label-input d-block" for="entrega_propria">Possui Entrega Propria?</label>
								<div class="d-inline-block">
									<input class="input-tag-radio" type="radio" name="entrega_propria" id="entrega-s" value="s" required <?php if(isset($this->view->vendedor) && isset($this->view->vendedor['entrega_propria']) && $this->view->vendedor['entrega_propria'] == true) {?> checked <?php } ?>><label class="label-input-radio" for="entrega_propria">Sim</label>
								</div>
								<div class="d-inline-block">
									<input class="input-tag-radio" type="radio" name="entrega_propria" id="entrega-n" value="n" required <?php if(isset($this->view->vendedor) && isset($this->view->vendedor['entrega_propria']) && $this->view->vendedor['entrega_propria'] == false) {?> checked <?php } ?>><label class="label-input-radio" for="entrega_propria">Não</label>   
								</div>
							</div>
							
							<div class="col-md-6 col-sm-12 mt-3">
								<label id="entrega" class="label-input  text-number" for="valor_entrega">Valor da entrega</label>
								<input class="input-tag mb-0" type="number" step="0.01" name="valor_entrega" id="valor_entrega" <?php if(isset($this->view->vendedor) && isset($this->view->vendedor['valor_entrega'])) {?>value="<?= $this->view->vendedor['valor_entrega'] ?>"<?php } ?>>
								<small class="mt-0"> *Se "Não", deixar em branco.</small>
							</div>
						</div>


						<div id="bloco4v" class="row">
							<div class="col-md-6 col-sm-12 mt-3">
                                <label class="label-input" for="img-padrao">Foto Atual</label>
                                <input type="file" class="input-img d-none" id="img-padrao" onchange="displayImageInfo(1)" accept="image/*" disabled>
                                <label id="image-container" class="image-container d-flex m-auto justify-content-center" for="img-padrao">
                                    <img src="<?= HOST_APLIC ?><?= $this->view->vendedor['imagem1'] ?>" alt="">
                                </label>
							</div>
                            <div class="col-md-6 col-sm-12 mt-3">
                                <label class="label-input" for="imagem1">Nova Foto<span> *imagem quadrada</span></label>
                                <input type="file" class="input-img d-none" name="imagem1" id="imagem1" onchange="displayImageInfo(1)" accept="image/*">
                                <label id="image-container1" class="image-container d-flex m-auto justify-content-center" for="imagem1"></label>
                                <label class="label-input-image" id="label-image1" for="imagem1">                    
                                    <svg class="icon-produto" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                    <path d="M17.5531248,16.4450044 C17.6286997,16.179405 17.9052761,16.0253597 18.1708755,16.1009346 C18.4364749,16.1765095 18.5905202,16.4530859 18.5149453,16.7186853 C18.2719275,17.5727439 17.5931039,18.2421122 16.71594,18.4614032 L8.58845447,20.4931921 C7.21457067,20.8106614 5.86688485,19.9801117 5.55483435,18.6278929 L3.45442103,9.52610182 C3.14793844,8.19801056 3.96175966,6.86917188 5.28405996,6.53859681 L7.17308561,6.06634039 C7.44098306,5.99936603 7.71245031,6.16224638 7.77942467,6.43014383 C7.84639904,6.69804129 7.68351869,6.96950853 7.41562123,7.03648289 L5.52659559,7.50873931 C4.7332154,7.70708435 4.24492267,8.50438756 4.42881223,9.30124232 L6.52922555,18.4030334 C6.71644059,19.2142985 7.52497921,19.7125835 8.35461578,19.5209579 L16.4734044,17.4912607 C17.0000615,17.3595964 17.407086,16.9582414 17.5531248,16.4450044 Z M20,13.2928932 L20,5.5 C20,4.67157288 19.3284271,4 18.5,4 L9.5,4 C8.67157288,4 8,4.67157288 8,5.5 L8,11.2928932 L10.1464466,9.14644661 C10.3417088,8.95118446 10.6582912,8.95118446 10.8535534,9.14644661 L14.5637089,12.8566022 L17.2226499,11.0839749 C17.4209612,10.9517673 17.6850212,10.9779144 17.8535534,11.1464466 L20,13.2928932 L20,13.2928932 Z M19.9874925,14.6945992 L17.4362911,12.1433978 L14.7773501,13.9160251 C14.5790388,14.0482327 14.3149788,14.0220856 14.1464466,13.8535534 L10.5,10.2071068 L8,12.7071068 L8,14.5 C8,15.3284271 8.67157288,16 9.5,16 L18.5,16 C19.2624802,16 19.8920849,15.4310925 19.9874925,14.6945992 L19.9874925,14.6945992 Z M9.5,3 L18.5,3 C19.8807119,3 21,4.11928813 21,5.5 L21,14.5 C21,15.8807119 19.8807119,17 18.5,17 L9.5,17 C8.11928813,17 7,15.8807119 7,14.5 L7,5.5 C7,4.11928813 8.11928813,3 9.5,3 Z M16,5 L18,5 C18.5522847,5 19,5.44771525 19,6 L19,8 C19,8.55228475 18.5522847,9 18,9 L16,9 C15.4477153,9 15,8.55228475 15,8 L15,6 C15,5.44771525 15.4477153,5 16,5 Z M16,6 L16,8 L18,8 L18,6 L16,6 Z"/>
                                    </svg><p class="d-inline-block">Selecione imagem</p>
                                </label>
							</div>
							<div class="col-md-12 col-sm-12 mt-2">
								<label class="label-input" for="sobrenos">Sobre a Empresa</label>
								<textarea class="textarea-form" name="sobrenos" id="sobrenos" required cols="30" rows="5"><?php if(isset($this->view->vendedor) && isset($this->view->vendedor['sobrenos'])) {?><?= $this->view->vendedor['sobrenos'] ?><?php } ?></textarea>
							</div>
						</div>

					</div>
					
					<button id="botaov" class="botao-form">Atualizar Dados</button>
				</form>
			</div>
</div>

<script>
		
    function displayImageInfo(numImg) {
        const fileInput = document.getElementById('imagem' + numImg);
        const imageContainer = document.getElementById('image-container' + numImg);
        const imageSelectedMessage = document.getElementById('image-selected-message' + numImg);
        const imageLabel = document.getElementById('label-image' + numImg);

        if (fileInput.files && fileInput.files[0]) {
            const file = fileInput.files[0];
            const reader = new FileReader();

            reader.onload = function (e) {
                const img = new Image();
                img.src = e.target.result;
                img.id = 'img' + numImg;

                img.onload = function () {
                    const width = img.width;
                    const height = img.height;

                    if (width / height < 0.97 || width / height > 1.03) {
                        imageContainer.innerHTML = ''; // Limpa a imagem
                        imageLabel.innerHTML = 'Formato inválido! Clique aqui e selecione outra.'; // Exibe mensagem de formato inválido
                        imageContainer.style.display = 'none';
                        imageLabel.style.display = 'block';
                        imageLabel.style.color = '#f34d4d';
                    } else {
                        imageContainer.innerHTML = ''; // Limpa a imagem
                        imageLabel.textContent = '';
                        imageContainer.appendChild(img);
                        imageSelectedMessage.textContent = ''; // Limpa a mensagem de formato inválido
                        imageContainer.style.display = 'block';
                        imageLabel.style.display = 'none';
                    }
                };
            };

            reader.readAsDataURL(file);
        } else {
            imageContainer.style.display = 'none';
            imageLabel.style.display = 'block';
            const remover = document.getElementById('img' + numImg);
            remover.style.display = 'none';
        }
    }

    //validador de documento
    var documentov = document.getElementById('documentov');
    var confdocv = documentov.value;
    if(confdocv == '') {
        var textodocumentov = document.getElementById("conferedocumentov");
        textodocumentov.style.display = "none";
        documentov.style.borderColor = " #e0e0e0";
    } else {

        var styledocumentov = document.getElementById('documentov');
        var textodocumentov = document.getElementById('conferedocumentov');

        if(validarCPFCNPJV()) {
            textodocumentov.style.display = "none";
            styledocumentov.style.borderColor = " #e0e0e0";
        } else {
            textodocumentov.style.display = "block";
            styledocumentov.style.borderColor = " #dc3545";
        }

    }

    function limpaDocV() {

        var documentov = document.getElementById('documentov');
        var confdocv = documentov.value;
        if(confdocv == '') {
        var textodocumentov = document.getElementById("conferedocumentov");
        textodocumentov.style.display = "none";
        documentov.style.borderColor = " #e0e0e0";
        }

    }

    function validarCPFCNPJV() {
        var documentov = document.getElementById('documentov');
        var confdocumentov = documentov.value;
        var numerov = confdocumentov.replace(/\D/g, '');
    
        if (numerov.length === 11) {
            if (/^(\d)\1*$/.test(numerov)) {
                return false;
            }
            
            let soma = 0;
            for (let i = 0; i < 9; i++) {
                soma += parseInt(numerov[i]) * (10 - i);
            }
                    
            const digito1 = (soma % 11 < 2) ? 0 : 11 - (soma % 11);
            
            soma = 0;
            for (let i = 0; i < 10; i++) {
                soma += parseInt(numerov[i]) * (11 - i);
            }
            
            const digito2 = (soma % 11 < 2) ? 0 : 11 - (soma % 11);
            
            if (numerov[9] == digito1 && numerov[10] == digito2) {
                return true;
            }
        } else if (numerov.length === 14) {
            if (/^(\d)\1*$/.test(numerov)) {
                return false;
            }
            
            let soma = 0;
            let multiplicador = 5;
            for (let i = 0; i < 12; i++) {
                soma += parseInt(numerov[i]) * multiplicador;
                multiplicador = (multiplicador === 2) ? 9 : multiplicador - 1;
            }
            
            const digito1 = soma % 11 < 2 ? 0 : 11 - (soma % 11);
            
            soma = 0;
            multiplicador = 6;
            for (let i = 0; i < 13; i++) {
                soma += parseInt(numerov[i]) * multiplicador;
                multiplicador = (multiplicador === 2) ? 9 : multiplicador - 1;
            }
            
            const digito2 = soma % 11 < 2 ? 0 : 11 - (soma % 11);
            
            if (numerov[12] == digito1 && numerov[13] == digito2) {
                return true;
            }
        }   
    
        return false;
    }   

    function validadedocV() {
    var styledocumentov = document.getElementById('documentov');
    var textodocumentov = document.getElementById('conferedocumentov');

    if(validarCPFCNPJV()) {
        textodocumentov.style.display = "none";
        styledocumentov.style.borderColor = " #e0e0e0";
    } else {
        textodocumentov.style.display = "block";
        styledocumentov.style.borderColor = " #dc3545";
    }

    }
</script>